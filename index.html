<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Jucar</title>

  <meta name="theme-color" content="#0d6efd">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  <meta name="apple-mobile-web-app-title" content="Task Manager">

  <link rel="manifest" href="manifest.json">

  <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.10.0/font/bootstrap-icons.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:wght@400;500;600;700&display=swap"
    rel="stylesheet">

  <link rel="stylesheet" href="assets/css/custom.css">
</head>

<body>
  <!-- Mobile sidebar overlay -->
  <div class="sidebar-overlay" id="sidebarOverlay"></div>

  <div class="container-fluid p-0">
    <div class="row g-0">
      <!-- sidenav -->
      <aside class="sidebar d-flex flex-column align-items-center bg-black vh-100 p-3"
        style="width: 220px; min-width: 220px;" id="sidebar">
        <img src="https://via.placeholder.com/80" alt="Logo" class="rounded-circle mt-3 border"
          style="width: 80px; height: 80px; object-fit: cover;">
        <nav class="nav flex-column w-100 flex-grow-1 my-5 gap-3" id="sideNav">
          <a class="nav-link p-3 rounded active" href="#homepage">Homepage</a>
          <a class="nav-link p-3 rounded" href="#projects">Projects</a>
          <a class="nav-link p-3 rounded" href="#skills">Skills</a>
          <a class="nav-link p-3 rounded" href="#experience">Experience</a>
          <a class="nav-link p-3 rounded" href="#education">Education</a>
        </nav>
        <div class="w-100 border-top pt-3">
          <div class="bg-dark text-white d-flex align-items-center justify-content-center py-3">
            <img src="https://via.placeholder.com/80" alt="Logo" class="rounded-circle border mx-3"
              style="width: 40px; height: 40px; object-fit: cover;">

            <div class="flex-grow-1">
              <div class="fw-semibold">John Doe</div>
              <div class="small">Administrator</div>
            </div>
          </div>
        </div>
      </aside>

      <div class="col main-content bg-dark" style="min-height: 100vh;">
        <div class="d-flex justify-content-between align-items-center p-3 sticky-top bg-dark">
          <!-- Mobile menu toggle button -->
          <button class="btn btn-outline-light mobile-toggle d-md-none" type="button" id="sidebarToggle">
            <i class="bi bi-list"></i>
          </button>
        </div>
        <div class="px-5" data-bs-spy="scroll" data-bs-target="#sideNav" data-bs-offset="0" tabindex="0"
          style="scroll-behavior: smooth;">
          <section id="homepage" class="pt-5 mb-5" style="min-height: 100vh;">
            <h1 class="text-white text-md-start mb-5">Home page</h1>
            <p class="text-white">Welcome to the homepage section. Scroll down to see more sections.</p>
          </section>
          <section id="projects" class="pt-5 mb-5" style="min-height: 100vh;">
            <h1 class="text-white text-md-start mb-5">Projects</h1>
            <p class="text-white">Here are some dummy projects:</p>
            <ul class="text-white">
              <li>Project Alpha - A web application for managing tasks.</li>
              <li>Project Beta - A mobile app for tracking fitness.</li>
              <li>Project Gamma - An e-commerce platform for local businesses.</li>
            </ul>
          </section>
          <section id="skills" class="pt-5 mb-5" style="min-height: 100vh;">
            <h1 class="text-white text-md-start mb-5">Skills</h1>
            <ul class="text-white">
              <li>HTML, CSS, JavaScript</li>
              <li>PHP, Laravel</li>
              <li>Bootstrap, SCSS</li>
              <li>React, Vue</li>
            </ul>
          </section>
          <section id="experience" class="pt-5 mb-5" style="min-height: 100vh;">
            <h1 class="text-white text-md-start mb-5">Experience</h1>
            <ul class="text-white">
              <li>Frontend Developer at WebCorp (2022-2024)</li>
              <li>Backend Developer at CodeBase (2020-2022)</li>
              <li>Intern at DevStart (2019-2020)</li>
            </ul>
          </section>
          <section id="education" class="pt-5 mb-5" style="min-height: 100vh;">
            <h1 class="text-white text-md-start mb-5">Education</h1>
            <ul class="text-white">
              <li>BSc in Computer Science, University of Example (2016-2020)</li>
              <li>High School Diploma, Example High (2012-2016)</li>
            </ul>
          </section>
        </div>
      </div>
    </div>
  </div>


  <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
  <script>
    // Mobile sidebar toggle functionality
    const sidebarToggle = document.getElementById('sidebarToggle');
    const sidebar = document.getElementById('sidebar');
    const sidebarOverlay = document.getElementById('sidebarOverlay');

    function toggleSidebar() {
      sidebar.classList.toggle('show');
      sidebarOverlay.classList.toggle('show');
    }

    function closeSidebar() {
      sidebar.classList.remove('show');
      sidebarOverlay.classList.remove('show');
    }

    sidebarToggle.addEventListener('click', toggleSidebar);
    sidebarOverlay.addEventListener('click', closeSidebar);

    // Close sidebar when clicking nav links on mobile
    const navLinks = document.querySelectorAll('.nav-link');
    navLinks.forEach(link => {
      link.addEventListener('click', () => {
        if (window.innerWidth < 768) {
          closeSidebar();
        }
      });
    });

    // Handle window resize
    window.addEventListener('resize', () => {
      if (window.innerWidth >= 768) {
        closeSidebar();
      }
    });

    // Bootstrap ScrollSpy activation
    const scrollSpy = new bootstrap.ScrollSpy(document.querySelector('.px-5'), {
      target: '#sideNav',
      offset: 0
    });
  </script>

  <script>
    // Call the register function when page loads
    registerServiceWorker();

    function registerServiceWorker() {
      if ('serviceWorker' in navigator) {
        window.addEventListener('load', () => {
          navigator.serviceWorker.register('./sw.js')
            .then((registration) => {
              console.log('SW registered: ', registration);

              // Check for updates
              registration.addEventListener('updatefound', () => {
                const newWorker = registration.installing;
                newWorker.addEventListener('statechange', () => {
                  if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {
                    // New service worker available
                    showUpdateAvailable();
                  }
                });
              });
            })
            .catch((registrationError) => {
              console.log('SW registration failed: ', registrationError);
            });
        });
      } else {
        console.log('Service workers are not supported');
      }
    }
  </script>
</body>

</html>